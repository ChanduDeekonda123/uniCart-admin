<!-- <p-breadcrumb [model]="breadcrumbItems" class="bread"></p-breadcrumb> -->
<div class="header-row">
    <div class="header-left">
        <h3 class="title">Seller Master List <span class="pi pi-bookmark ml-2"></span></h3>
    </div>
    <button pButton class="headerBtn bg-blue-400 hover:bg-blue-600 border-none" (click)="addBusiness()"
        icon="pi pi-plus">
        Add Business
    </button>
</div>
<p-tabs [(value)]="activeTabIndex" (valueChange)="onTabChange($event)" class="mb-4">
    <p-tablist>
        <p-tab value="0" (click)="getSellerList(activeTabIndex)">
            Draft ({{recordCounts?.draft || 0}})
        </p-tab>
        <p-tab value="1" (click)="getSellerList(activeTabIndex)">
            Pending ({{recordCounts?.pending || 0}})
        </p-tab>
        <p-tab value="2" (click)="getSellerList(activeTabIndex)">
            Approve ({{ recordCounts?.approved || 0 }})
        </p-tab>
        <p-tab value="3" (click)="getSellerList(activeTabIndex)">
            Rejected ({{ recordCounts?.rejected || 0 }})
        </p-tab>
        <p-iconfield class="pt-3">
            <p-inputicon class="pi pi-search " />
            <input type="text" pInputText placeholder="Search" (input)="onSearch($event)"/>
        </p-iconfield>
        <div class="btns card flex justify-center">
            <div class="flex items-center ">
                <p-button label="Show" variant="text" severity="secondary"
                    (click)="showPopover.toggle($event)"></p-button>
                <span class="p-2">/</span>
                <p-button label="Hide" variant="text" severity="secondary"
                    (click)="hidePopover.toggle($event)"></p-button>
            </div>
            <p-popover #showPopover>
                <div class="w-56">
                    <p-listbox [options]="fields" [(ngModel)]="showSelection" [checkbox]="true" [multiple]="true"
                        optionLabel="label" optionValue="value" [filter]="true" scrollHeight="250px">
                    </p-listbox>
                    <div class="flex justify-between">
                        <p-button class="p-2" label="Clear" (click)="clearShow()" severity="secondary"></p-button>
                        <p-button class="p-2" label="Add" (click)="applyShow(showPopover)" severity="info"></p-button>
                    </div>
                </div>
            </p-popover>
            <p-popover #hidePopover>
                <div class="w-40">
                    <p-listbox [options]="fields" [(ngModel)]="hideSelection" [checkbox]="true" [multiple]="true"
                        optionLabel="label" optionValue="value" [filter]="true" scrollHeight="250px">
                    </p-listbox>
                    <div class="flex justify-between">
                        <p-button class="p-2" label="Clear" (click)="clearHide()" severity="secondary"></p-button>
                        <p-button class="p-2" label="Add" (click)="applyHide(hidePopover)" severity="info"></p-button>
                    </div>
                </div>
            </p-popover>
        </div>
    </p-tablist>
</p-tabs>
<div class="card  filters-row">
    <div class="filter-col">
        <label class="text">Customer Name</label>
        <p-select [options]="cities" [filter]="true" [(ngModel)]="selectedCity" optionLabel="name"
            placeholder="All"></p-select>
    </div>
    <div class="filter-col">
        <label class="text">Country</label>
        <p-select [options]="cities" [filter]="true" [(ngModel)]="selectedCity" optionLabel="name"
            placeholder="All"></p-select>
    </div>
    <div class="filter-col">
        <label class="text">Category</label>
        <p-select [options]="cities" [filter]="true" [(ngModel)]="selectedCity" optionLabel="name"
            placeholder="All"></p-select>
    </div>
    <div class="filter-col">
        <label class="text">Status</label>
        <p-select [options]="cities" [filter]="true" [(ngModel)]="selectedCity" optionLabel="name"
            placeholder="All"></p-select>
    </div>
</div>
<div class="seller-list-wrapper">
    <app-smart-table [columns]="tableColumns" [actionBtns]="actionbtns" [showActions]="true" [data]="sellerList"
    (edit)="editSeller($event)" (emitAction)="handleAction($event)" (delete)="deleteSeller($event)">></app-smart-table>
</div>
@if(isLoading){
<app-spinner-loader></app-spinner-loader>
}
<p-toast></p-toast>